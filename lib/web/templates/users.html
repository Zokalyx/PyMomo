<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">

        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@700&display=swap" rel="stylesheet">

        <link rel="shortcut icon" href="/images/momo.ico" type="image/x-icon">
        
        <script src="/scripts/users.js"></script>

        <link rel="stylesheet" href="/styles/base.css" type="text/css">
        <style>
            {% for id, user in users %}
            #user-{{ id }}:hover
            {
                border-color: #{{ "%x"|format(user.color) }};
            }
            {% endfor %}

            #order-form:hover
            {
                height: 16vh;
            }
        </style>

        <title>Usuarios</title>
    </head>


    <body>
        <header>
            <a class="logo" href="/">
                <img src="/images/momo.png">
                Momo
            </a>
        </header>

        <main>
            <div class="title-row">
                <div class="title-side left">
                    <a href="../">
                        <img class="back" src="/images/back.png">
                    </a>
                </div>
                <span class="main-title">Usuarios</span>
                <div class="title-side right">
                    <div class="filter-form" id="order-form">
                        <span class="form-title">Orden</span>
                        <label class="form-container" id="order-cards">
                            <span class="checkbox-text">Cartas</span>
                            <input type="radio" name="order" checked>
                            <span class="checkmark"></span>
                        </label>
                        <label class="form-container" id="order-balance">
                            <span class="checkbox-text">Balance</span>
                            <input type="radio" name="order">
                            <span class="checkmark"></span>
                        </label>
                        <label class="form-container" id="order-level">
                            <span class="checkbox-text">Nivel</span>
                            <input type="radio" name="order">
                            <span class="checkmark"></span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="main">
                {% for id, user in users %}
                <a href="/users/{{ id }}"
                   class="box clickable-box user-box"
                   id="user-{{ id }}"
                   data-balance="{{ user.bal }}"
                   data-cards="{{ collections[id]|length }}"
                   data-level="{{ user.lvl }}"
                >
                    <div class="user-title-row">
                        <div class="user-name-and-desc">
                            <span class="box-title align-left">{{ user.default_name }}</span>
                            <span class="align-left">{{ user.description }}</span>
                        </div>

                        <img src="{{ user.img }}">
                    </div>

                    <div class="user-data">
                        <div class="user-column">
                            <span class="user-column-title">Cartas</span>
                            {{ collections[id]|length }}
                        </div>

                        <div class="user-column">
                            <span class="user-column-title">Balance</span>
                            ${{ user.bal }}
                        </div>

                        <div class="user-column">
                            <span class="user-column-title">Nivel</span>
                            {{ user.lvl }}
                        </div>
                    </div>
                </a>
                {% endfor %}
            </div>
        </main>
    </body>
    <script> </script>
</html>
